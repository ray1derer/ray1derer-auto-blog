<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>21강: let, map, filter를 활용한 고급 수식</title>
    <link rel="stylesheet" href="../assets/style.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <!-- 사이드바 내용은 index.html에서 동적으로 로드 -->
        </aside>
        <main class="main-content">
            <h1>21강: let, map, filter를 활용한 고급 수식</h1>
            <p>Notion Formula 2.0의 진정한 강력함은 <code>let()</code>, <code>map()</code>, <code>filter()</code>와 같은 고급 함수들을 활용하여 복잡한 논리를 구현하고 데이터를 동적으로 조작하는 데 있습니다. 이 강의에서는 이러한 함수들을 사용하여 수식을 단순화하고, 관계형으로 연결된 데이터베이스의 정보를 효율적으로 처리하는 방법을 배웁니다.</p>
            
            <h2>학습 목표</h2>
            <ul>
                <li><code>let()</code>과 <code>lets()</code>로 변수를 정의하여 복잡한 수식을 단순화합니다.</li>
                <li><code>map()</code>을 사용하여 관계형으로 연결된 항목들을 순회하며 속성을 추출하고 조작합니다.</li>
                <li><code>filter()</code>를 사용하여 수식 내에서 관계형 항목을 동적으로 필터링합니다.</li>
            </ul>

            <h2>주요 개념</h2>
            <ul>
                <li><strong>변수 (<code>let()</code>, <code>lets()</code>):</strong> 수식 내에서 값을 저장하고 재사용할 수 있는 변수를 정의합니다. 복잡한 수식을 여러 단계로 나누어 가독성을 높이고 디버깅을 용이하게 합니다.</li>
                <li><strong>매핑 (<code>map()</code>):</strong> 관계형 속성을 통해 연결된 항목들의 목록을 순회하면서 각 항목의 특정 속성 값을 추출하거나 변환하여 새로운 목록을 생성합니다.</li>
                <li><strong>필터링 (<code>filter()</code>):</strong> <code>map()</code>과 유사하게 관계형 속성을 통해 연결된 항목들의 목록을 순회하지만, 특정 조건에 맞는 항목들만 선택하여 새로운 목록을 생성합니다.</li>
            </ul>

            <h2>실습 과제</h2>
            <p>16강에서 만든 <strong>'프로젝트'</strong> 데이터베이스의 <strong>'프로젝트 진행률'</strong> 막대를 롤업 속성 없이 단일 수식 속성으로 다시 만들어 보세요. 다음 단계를 참고하여 수식을 작성합니다.</p>
            <ul>
                <li><code>prop("업무")</code>를 사용하여 연결된 '업무' 항목들의 목록을 가져옵니다.</li>
                <li><code>map(...)</code>을 사용하여 각 '업무' 항목의 '상태' 속성을 가져옵니다.</li>
                <li><code>filter(...)</code>를 사용하여 가져온 '상태' 목록에서 '완료'된 항목의 개수를 셉니다.</li>
                <li><code>let()</code>을 사용하여 전체 업무 개수와 완료된 업무 개수를 변수에 저장하고, 이를 바탕으로 백분율을 계산하여 최종 진행률 막대(예: "██████████ 80%")를 출력합니다.</li>
            </ul>

            <div class="navigation">
                <!-- 이전/다음 강의 링크 -->
            </div>
        </main>
    </div>
</body>
</html>